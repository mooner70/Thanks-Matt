<h2 class="text-center">Amenities</h2>

<div>
  <form (ngSubmit)="createAmenity()" #amenityForm="ngForm">
    <mat-form-field>
      <input matInput type="text" name="name" id="name" [(ngModel)]="newAmenity.name" required placeholder="Name">
    </mat-form-field>
    <button mat-raised-button type="button" color="accent" [disabled]="!amenityForm.form.valid" (click)="createAmenity(); amenityForm.reset()">Add</button>
  </form>
  <div>
    <p [ngStyle]="{ 'color': 'red' }" *ngFor="let error of errors">{{ error }}</p>
  </div>
</div>

<hr>
<div class="container">
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr class="amenities" *ngFor="let amenity of amenities; let i = index">
        <td class="badge">{{ i + 1 }}</td>
        <td class="main">{{ amenity.name }}</td>
        <td class="delete">
          <button mat-icon-button color="accent" [routerLink]="['/amenity', 'edit', amenity._id]">
            <mat-icon aria-label="icon-button to edit amenity">
              <i class="material-icons">&#xE3C9;</i>
            </mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="destroyAmenity(amenity._id, i)">
            <mat-icon aria-label="icon-button to delete amenity"><i class="material-icons">&#xE872;</i></mat-icon>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
